<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Brandon's Big Board</title>

<script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>

<style>
body{
  background:black;
  color:white;
  font-family:Arial, sans-serif;
  margin:20px;
}

/* HERO */
.hero-banner{
  background:linear-gradient(135deg,#0a0a0a,#1a1a1a);
  border:1px solid #222;
  padding:40px 20px;
  margin-bottom:30px;
  text-align:center;
}

.hero-content h1{
  font-size:36px;
  margin:0;
  letter-spacing:2px;
  font-weight:700;
}

.hero-content h2{
  font-size:22px;
  margin:10px 0;
  color:#4169E1;
  font-weight:600;
}

.meta-info{
  margin-top:12px;
  font-size:13px;
  color:#ccc;
}

/* LOGOS */
.logo-container{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:30px;
  margin:10px 0 25px 0;
}

.logo-container img{
  height:150px;
  object-fit:contain;
}

/* CONTROLS */
.controls{
  text-align:center;
  margin-bottom:15px;
}

input, select{
  padding:6px;
  margin:5px;
  font-size:14px;
  background:#111;
  color:white;
  border:1px solid #444;
}

/* TABLE */
.table-wrapper{
  overflow:auto;
  max-height:75vh;
  border:1px solid #222;
}

table{
  border-collapse:separate;
  border-spacing:0;
  width:100%;
  min-width:max-content;
  table-layout:fixed;
}

th, td{
  padding:8px 14px;
  text-align:center;
  white-space:nowrap;
}

/* HEADER */
th{
  background:#4169E1;
  cursor:pointer;
  position:sticky;
  top:0;
  z-index:1000;
  transition:background .2s ease;
}

th:hover{
  background:#3157c7;
}

th .arrow{
  display:inline-block;
  margin-left:6px;
  opacity:0;
  transition:transform .25s ease, opacity .2s ease;
}

th.sorted .arrow{ opacity:1; }
th.sorted.desc .arrow{ transform:rotate(180deg); }

/* Active Sorted Column Highlight */
td.sorted-column{
  background:#162b55 !important;
}

/* Column widths */
th:nth-child(1), td:nth-child(1){ width:140px; min-width:140px; }
th:nth-child(2), td:nth-child(2){ width:90px; min-width:90px; }
th:nth-child(3), td:nth-child(3){ width:110px; min-width:110px; }

/* Sticky BODY columns */
td:nth-child(1){ position:sticky; left:0; z-index:900; background:#000; }
td:nth-child(2){ position:sticky; left:140px; z-index:901; background:#000; }
td:nth-child(3){ position:sticky; left:230px; z-index:902; background:#000; box-shadow:6px 0 10px rgba(0,0,0,.7); }

/* Sticky HEADER columns */
th:nth-child(1){ left:0; z-index:1100; }
th:nth-child(2){ left:140px; z-index:1099; }
th:nth-child(3){ left:230px; z-index:1098; }

/* Row striping */
tbody tr:nth-child(odd){ background:#000; }
tbody tr:nth-child(even){ background:#111; }
tbody tr:hover{ background:#1a1a1a; }

tbody tr:nth-child(even) td:nth-child(-n+3){ background:#111; }
tbody tr:hover td:nth-child(-n+3){ background:#1a1a1a; }

/* POSITION COLORS */
.edge-row td { color:#ff4500; font-weight:600; } /* HOT ORANGE */
.dt-row td { color:#40e0d0; font-weight:600; }
.cb-row td { color:#ff0000; font-weight:600; }
.s-row td { color:#ff1493; font-weight:600; }
.te-row td { color:#800080; font-weight:600; }
.rb-row td { color:#006400; font-weight:600; }
.wr-row td { color:#b8860b; font-weight:600; }
.lb-row td { color:#4169E1; font-weight:600; }
.ot-row td { color:#ffff00; font-weight:600; }
.iol-row td { color:#00ff00; font-weight:600; }

.school-logo{
  height:26px;
  vertical-align:middle;
}
</style>
</head>

<body>

<!-- EVERYTHING ELSE REMAINS SAME UNTIL SCRIPT -->

<script>

/* Keep all your existing JS above sortTable the same */

function sortTable(index, preserve=false){

  if(!preserve){
    if(currentSort===index){ sortAsc=!sortAsc; }
    else{ currentSort=index; sortAsc=true; }
  }

  filteredData.sort((a,b)=>{
    let valA=a[index];
    let valB=b[index];

    if(headers[index].toLowerCase().includes("height")){
      const convert=h=>{
        const m=h.match(/(\d+)'(\d+(\.\d+)?)"/);
        return m ? parseFloat(m[1])*12+parseFloat(m[2]) : 0;
      };
      valA=convert(valA);
      valB=convert(valB);
    }
    else if(!isNaN(valA)&&!isNaN(valB)){
      valA=parseFloat(valA);
      valB=parseFloat(valB);
    }

    if(valA<valB) return sortAsc?-1:1;
    if(valA>valB) return sortAsc?1:-1;
    return 0;
  });

  document.querySelectorAll("th").forEach(th=>{
    th.classList.remove("sorted","desc");
  });

  document.querySelectorAll("td").forEach(td=>{
    td.classList.remove("sorted-column");
  });

  if(currentSort!==-1){
    const active=document.querySelectorAll("th")[currentSort];
    active.classList.add("sorted");
    if(!sortAsc) active.classList.add("desc");

    document.querySelectorAll(`#data-table tbody tr`).forEach(row=>{
      row.children[currentSort].classList.add("sorted-column");
    });
  }

  displayRows();
}

</script>

</body>
</html>
